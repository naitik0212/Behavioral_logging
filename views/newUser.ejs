<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
    <style>
      :root {
        --input-padding-x: 1.5rem;
        --input-padding-y: .75rem;
      }

      body {
        background: #9CECFB;
        /* fallback for old browsers */
        background: -webkit-linear-gradient(to right, #65C7F7, #9CECFB, white);
        /* Chrome 10-25, Safari 5.1-6 */
        background: linear-gradient(to right, #65C7F7, #9CECFB, white);
        /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */
      }

      .card-signin {
        border: 0;
        border-radius: 1rem;
        box-shadow: 0 0.5rem 1rem 0 rgba(0, 0, 0, 0.1);
      }

      .card-signin .card-title {
        margin-bottom: 2rem;
        font-weight: 300;
        font-size: 1.5rem;
      }

      .card-signin .card-body {
        padding: 2rem;
      }

      .form-signin {
        width: 100%;
      }

      .form-signin .btn {
        font-size: 80%;
        border-radius: 5rem;
        letter-spacing: .1rem;
        font-weight: bold;
        padding: 1rem;
        transition: all 0.2s;
      }

      .form-label-group {
        position: relative;
        margin-bottom: 1rem;
      }

      .form-label-group input {
        border-radius: 2rem;
      }

      .form-label-group>input,
      .form-label-group>label {
        padding: var(--input-padding-y) var(--input-padding-x);
      }

      .form-label-group>label {
        position: absolute;
        top: 0;
        left: 0;
        display: block;
        width: 100%;
        margin-bottom: 0;
        /* Override default `<label>` margin */
        line-height: 1.5;
        color: #495057;
        border: 1px solid transparent;
        border-radius: .25rem;
        transition: all .1s ease-in-out;
      }

      .form-label-group input::-webkit-input-placeholder {
        color: transparent;
      }

      .form-label-group input:-ms-input-placeholder {
        color: transparent;
      }

      .form-label-group input::-ms-input-placeholder {
        color: transparent;
      }

      .form-label-group input::-moz-placeholder {
        color: transparent;
      }

      .form-label-group input::placeholder {
        color: transparent;
      }

      .form-label-group input:not(:placeholder-shown) {
        padding-top: calc(var(--input-padding-y) + var(--input-padding-y) * (2 / 3));
        padding-bottom: calc(var(--input-padding-y) / 3);
      }

      .form-label-group input:not(:placeholder-shown)~label {
        padding-top: calc(var(--input-padding-y) / 3);
        padding-bottom: calc(var(--input-padding-y) / 3);
        font-size: 12px;
        color: #777;
      }

      .btn-google {
        color: white;
        background-color: #ea4335;
      }

      .btn-facebook {
        color: white;
        background-color: #3b5998;
      }
      </style>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

    <script>
        function Login() {
            window.location='/'
        }


        function Submit() {
            var userName = document.getElementById("userName").value;
            var password = document.getElementById("inputPassword").value;
            var confirmPassword = document.getElementById("confirmPassword").value;
            var emailId = document.getElementById("emailId").value;


            if (password !== confirmPassword) {
                document.getElementById("error").style.display = 'block';
            } else {


                const params = new URLSearchParams();
                params.append('userName', userName);
                params.append('password', password);
                params.append('emailId', emailId)
                axios({
                    method: 'post',
                    url: 'http://localhost:3000/api/login/newUser',
                    data: params
                }).then(res => {
                    console.log(res);
                    console.log(res.data);
                    document.getElementById("error").style.display = 'none';
                    document.getElementById("success").style.display = 'block';
                })
                    .catch(error => {
                        console.log("error")
                        document.getElementById("error").style.display = 'block';

                    });
            }
        }

    </script>
    <link rel='stylesheet' href='/stylesheets/style.css' />
  </head>
  <body>
  <h1 style="text-align: center">User Behavioural Logging User Creation</h1> <hr/>
    <div class="login">
      <br/>


      <div class="container">
        <div class="container">
          <div class="row">
            <div class="col-sm-9 col-md-7 col-lg-5 mx-auto">
              <div class="card card-signin my-5">
                <div class="card-body">
                  <h5 class="card-title text-center">Create New User</h5>
                  <form class="form-signin" id="Userlogin">
                    <div class="form-label-group">
                      <input type="text" id="userName" class="form-control" placeholder="test" required autofocus>
                      <label for="userName">User Name</label>
                    </div>

                    <div class="form-label-group">
                      <input type="email" id="emailId" class="form-control" placeholder="Email Id" required>
                      <label for="emailId">Email Id</label>
                    </div>

                    <div class="form-label-group">
                      <input type="password" id="inputPassword" class="form-control" placeholder="password" required>
                      <label for="inputPassword">Password</label>
                    </div>

                    <div class="form-label-group">
                      <input type="password" id="confirmPassword" class="form-control" placeholder="Confirm Password" required>
                      <label for="confirmPassword">Confirm Password</label>
                    </div>

                    <button type="button" class="btn btn-lg btn-success btn-block text-uppercase" onclick="Submit()">Create User</button>

                    <br>
                      <button type="button" class="btn btn-lg btn-info btn-block text-uppercase" onclick="Login()">Login</button>

                      <h5 id="success" style="display:none; text-align: center" >User Creation Successful. Please go to Login</h5>

                    <h5 id="error" style="display:none; text-align: center" >User Creation Failed. Please retry</h5>

                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
